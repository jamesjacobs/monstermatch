{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "js/app.js",
    "js/src/LevelService.js",
    "js/src/ModalService.js",
    "js/src/ScoreService.js",
    "js/src/SoundService.js",
    "js/src/StarService.js",
    "js/src/TileService.js",
    "js/src/TimerService.js",
    "js/src/Utils.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nvar LevelService = require('./src/LevelService'),\n    ScoreService = require('./src/ScoreService'),\n    SoundService = require('./src/SoundService'),\n    TileService = require('./src/TileService'),\n    TimerService = require('./src/TimerService');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    var timerElement = document.querySelectorAll('[data-timer]')[0],\n        timerElementId = timerElement.id,\n        body = document.querySelector('body'),\n        scoreService = new ScoreService(),\n        soundService = new SoundService(),\n        timerService = new TimerService(timerElementId),\n        tileService = new TileService(body, scoreService, soundService, timerService),\n        levelService = new LevelService(soundService, scoreService, tileService, timerService, body);\n\n    soundService.init();\n    scoreService.init();\n    levelService.init();\n});\n",
    "'use strict';\n\nvar Utils = require('./Utils'),\n    ModalService = require('./ModalService');\n\nfunction LevelService(soundService, scoreService, tileService, timerService, body) {\n    this.utils = new Utils();\n    this.soundService = soundService;\n    this.scoreService = scoreService;\n    this.tileService = tileService;\n    this.timerService = timerService;\n    this.body = body;\n}\n\nLevelService.prototype.levels = [\n    {\n        name: 'beginner',\n        uniqueTiles: 2,\n        img: ''\n    },\n    {\n        name: 'easy',\n        uniqueTiles: 3,\n        img: ''\n    },\n    {\n        name: 'medium',\n        uniqueTiles: 6,\n        img: 'img/monsters/medium-monsters.png'\n    },\n    {\n        name: 'hard',\n        uniqueTiles: 8,\n        img: 'img/monsters/hard-monsters.png'\n    },\n    {\n        name: 'monsterous',\n        uniqueTiles: 10,\n        img: 'img/monsters/monsterous-monsters.png'\n    }\n];\n\nfunction levelComplete (e) {\n    var modalMarkup,\n        modalService;\n    \n    modalMarkup = \n        '<div class=\"modal__header\">' +\n            '<h1>Hooray!<br/> Level Complete</h1>' +\n            '<div class=\"modal__award\">' +\n                e.detail.stars +\n            '</div>' +\n         '</div>' +\n         '<div class=\"modal__body\">' +\n            '<h3 class=\"u-text-subtle\">Your time <br/> ' + e.detail.currentTime + '</h3>' +\n            '<hr/>' +\n            '<h3 class=\"u-text-success\">Best time <br/> ' + e.detail.bestTime + '</h3>' +\n         '</div>' +\n         '<div class=\"modal__footer\">' +\n            '<a class=\"btn btn--standard btn--block modal--close\" id=\"repeat-level-link\">Replay</a>' +\n            '<a class=\"btn btn--positive btn--block u-margin-top modal--close\" id=\"next-level-link\">Next Level</a>' +\n         '</div>';\n\n    modalService = new ModalService({\n        closeButton: true,\n        closeTriggerClass: 'modal--close',\n        content: modalMarkup,\n        maxWidth: 600\n    });\n\n    modalService.open();\n}\n\nfunction levelMarkupbuilder (service, levelArray) {\n    var docFrag,\n        levelPage = service.body.querySelector('#levels-page'),\n        levelsUl,\n        listItems = '',\n        totalLevelTiles,\n        levelSavedTime,\n        levelSavedTimeFormatted,\n        starMarkup;\n\n    // Remove previously built levels\n    levelPage.innerHTML = '';\n\n    // Create a DocumentFragment to build with\n    docFrag = document.createDocumentFragment();\n\n    // Create the levels ul\n    levelsUl = document.createElement('ul');\n    levelsUl.className = 'levels';\n\n    // Create the level li's based on the levelArray and previous scores\n    for (var i = 0; i < levelArray.length; i++) {\n        totalLevelTiles = levelArray[i].uniqueTiles * 2;\n        levelSavedTimeFormatted = service.scoreService.getSavedFormattedTime(levelArray[i].name);\n        levelSavedTime = service.scoreService.getSavedUnformattedTime(levelArray[i].name);\n        starMarkup = service.scoreService.getStars(levelArray[i].name, levelSavedTime);\n\n        // this is nasty...\n        if (levelSavedTimeFormatted === '00:00') {\n            listItems +=   \n                '<li class=\"level__item\">' +\n                    '<a href=\"#\" class=\"level__link level__link--'+ levelArray[i].name +'\" data-tiles=\"'+ levelArray[i].uniqueTiles +'\" data-level-title=\"'+ levelArray[i].name +'\">' +\n                        '<h3 class=\"level__title\">'+ levelArray[i].name +'</h3>' +\n                        '<h4 class=\"level__sub-title\">'+ totalLevelTiles +' tiles</h4>' +\n                        '<img class=\"level__img\" src=\"'+ levelArray[i].img +'\"/>' +\n                    '</a>' +\n                '</li>';   \n        } else {\n            listItems +=   \n                '<li class=\"level__item\">' +\n                    '<a href=\"#\" class=\"level__link level__link--'+ levelArray[i].name +'\" data-tiles=\"'+ levelArray[i].uniqueTiles +'\" data-level-title=\"'+ levelArray[i].name +'\">' +\n                        '<h3 class=\"level__title\">'+ levelArray[i].name +'</h3>' +\n                        '<h4 class=\"level__sub-title\">'+ totalLevelTiles +' tiles</h4>' +\n                        '<img class=\"level__img\" src=\"'+ levelArray[i].img +'\"/>' +\n                        '<div class=\"level__scores\">' +\n                            '<span class=\"level__time\">'+ levelSavedTimeFormatted +'</span>' +\n                            '<span class=\"level__stars\">'+ starMarkup +'</span>' +\n                        '</div>' +\n                    '</a>' +\n                '</li>'; \n        }\n    }\n\n    levelsUl.innerHTML = listItems;\n    docFrag.appendChild(levelsUl);\n    levelPage.appendChild(docFrag);\n}\n\nfunction backButtonHandler (e, service) {\n    e.preventDefault();\n\n    var backButton = service.body.querySelector('#back-button'),\n        tilesPage = service.body.querySelector('#tiles-page'),\n        levelPage = service.body.querySelector('#levels-page'),\n        headerTitle = service.body.querySelector('#header-title');\n\n    // Hide tiles\n    tilesPage.classList.add('u-hide');\n\n    // Hide back button\n    backButton.classList.add('u-hide');\n\n    // Revert header title\n    headerTitle.textContent = 'Monster match';\n    headerTitle.classList.remove('bar__title--has-header');\n\n    // Rebuild levels with new times and stars\n    levelMarkupbuilder(service, service.levels);\n\n    // Show levels\n    levelPage.classList.remove('u-hide');\n\n    // Stop, hide and reset timer\n    service.timerService.reset();\n\n    // Play click sound\n    service.soundService.play('click');\n}\n\nfunction loadLevel (service, levelDataset) {\n    var levelPage = service.body.querySelector('#levels-page'),\n        tilesPage = service.body.querySelector('#tiles-page'),\n        backButton = service.body.querySelector('#back-button'),\n        headerTitle = service.body.querySelector('#header-title'),\n        numberOfTiles;\n\n    // Hide levels\n    levelPage.classList.add('u-hide');\n\n    // Create tiles\n    numberOfTiles = levelDataset.tiles;\n    service.tileService.generateTiles(numberOfTiles, tilesPage);\n\n    // Add tile number to body\n    service.body.dataset.tileNumber = numberOfTiles;\n\n    // Add level title to body\n    service.body.dataset.levelTitle = levelDataset.levelTitle;\n\n    // Show and populate header\n    headerTitle.classList.add('bar__title--has-header');\n    headerTitle.textContent = levelDataset.levelTitle;\n\n    // Unhide back button\n    backButton.classList.remove('u-hide');\n\n    // Play click sound\n    service.soundService.play('click');\n}\n\nfunction playRepeatLevel (service) {\n    var numberOfTiles = service.body.dataset.tileNumber,\n        tilesPage = service.body.querySelector('#tiles-page');\n\n    // Regenerate tiles    \n    service.tileService.generateTiles(numberOfTiles, tilesPage);\n\n    // Play click sound\n    service.soundService.play('click');\n\n    // Reset and restart the timer\n    service.timerService.reset();\n    service.timerService.start();\n}\n\nfunction playNextLevel (service) {\n    var nextLevelObj = service.utils.nextInArray(service.levels, service.body.dataset.levelTitle),\n        numberOfTiles,\n        headerTitle = service.body.querySelector('#header-title'),\n        tilesPage = service.body.querySelector('#tiles-page');\n\n    if (typeof nextLevelObj === 'undefined') { return; }\n\n    // Generate next levels tiles\n    numberOfTiles = nextLevelObj.uniqueTiles;\n    service.tileService.generateTiles(numberOfTiles, tilesPage);\n\n    // Next levels title\n    headerTitle.textContent = nextLevelObj.name;\n    service.body.dataset.levelTitle = nextLevelObj.name;\n    service.body.dataset.tileNumber = nextLevelObj.uniqueTiles;\n\n    // Play click sound\n    service.soundService.play('click');\n\n    // Reset and restart the timer\n    service.timerService.reset();\n    service.timerService.start();\n}\n\nLevelService.prototype.init = function () {\n    var service = this,\n        backButton = service.body.querySelector('#back-button');\n\n    // Build level links\n    levelMarkupbuilder(service, this.levels);\n\n    // Event listeners\n    backButton.addEventListener('click', function (e) {\n        backButtonHandler(e, service);\n    });\n\n    document.addEventListener('allTilesMatch', function (e) {\n        levelComplete(e);\n    });\n\n    document.addEventListener('click', function (e) {\n        e.preventDefault();\n\n        if (e.target.tagName.toLowerCase() === 'html') { return; }\n\n        if (e.target.dataset.tiles) {\n            loadLevel(service, e.target.dataset);\n        } else if (e.target.parentElement.dataset.tiles) {\n            loadLevel(service, e.target.parentElement.dataset);\n        } else if (e.target.id === 'repeat-level-link') {\n            playRepeatLevel(service);\n        } else if (e.target.id === 'next-level-link') {\n            playNextLevel(service);\n        }\n    });\n};\n\nmodule.exports = LevelService;\n",
    "'use strict';\n\nfunction ModalService() {\n\n    this.closeButton = null;\n    this.modal = null;\n    this.overlay = null;\n\n    // Determine proper prefix\n    this.transitionEnd = this.transitionSelect();\n\n    // Define option defaults\n    var defaults = {\n        className: 'zoom',\n        closeButton: true,\n        closeTriggers: '',\n        content: '',\n        maxWidth: 600,\n        minWidth: 280,\n        overlay: true\n    };\n\n    // Create options by extending defaults with the passed in arguments\n    if (arguments[0] && typeof arguments[0] === 'object') {\n        this.options = this.extendDefaults(defaults, arguments[0]);\n    }\n}\n\nModalService.prototype.close = function() {\n    var that = this;\n\n    // Remove the open class name\n    this.modal.className = this.modal.className.replace(' modal--open', '');\n    this.overlay.className = this.overlay.className.replace(' modal--open', '');\n\n    /*\n     * Listen for CSS transitionend event and then\n     * Remove the nodes from the DOM\n     */\n    this.modal.addEventListener(this.transitionEnd, function() {\n        that.modal.parentNode.removeChild(that.modal);\n    });\n\n    this.overlay.addEventListener(this.transitionEnd, function() {\n        if(that.overlay.parentNode) {\n            that.overlay.parentNode.removeChild(that.overlay);\n        }\n    });\n};\n\nModalService.prototype.open = function () {\n    // Build out Modal\n    this.buildModal();\n\n    // Initialize event listeners\n    this.initializeEvents();\n\n    /*\n     * After adding elements to the DOM, use getComputedStyle\n     * to force the browser to recalc and recognize the elements\n     * that we just added. This is so that CSS animation has a start point\n     */\n    /* jshint expr: true */\n    window.getComputedStyle(this.modal).height;\n\n    /*\n     * Add our open class and check if the modal is taller than the window\n     * If so, our anchored class is also applied\n     */\n    this.modal.className = this.modal.className + (this.modal.offsetHeight > window.innerHeight ? ' modal--open modal--anchored' : ' modal--open');\n    this.overlay.className = this.overlay.className + ' modal--open';\n};\n\n// Utility method to extend defaults with user options\nModalService.prototype.extendDefaults = function (source, properties) {\n    var property;\n    for (property in properties) {\n        if (properties.hasOwnProperty(property)) {\n            source[property] = properties[property];\n        }\n    }\n    return source;\n};\n\nModalService.prototype.buildModal = function () {\n    var content,\n        contentHolder,\n        docFrag;\n\n    // If content is an HTML string, append the HTML string. If content is a domNode, append its content.\n    if (typeof this.options.content === 'string') {\n        content = this.options.content;\n    } else {\n        content = this.options.content.innerHTML;\n    }\n\n    // Create a DocumentFragment to build with\n    docFrag = document.createDocumentFragment();\n\n    // Create modal element\n    this.modal = document.createElement('div');\n    this.modal.className = 'modal ' + this.options.className;\n    this.modal.style.minWidth = this.options.minWidth + 'px';\n    this.modal.style.maxWidth = this.options.maxWidth + 'px';\n\n    // If closeButton option is true, add a close button\n    if (this.options.closeButton === true) {\n        this.closeButton = document.createElement('button');\n        this.closeButton.className = 'modal__close modal__close-button';\n        this.closeButton.innerHTML = 'Ã—';\n        this.modal.appendChild(this.closeButton);\n    }\n\n    // If overlay is true, add one\n    if (this.options.overlay === true) {\n        this.overlay = document.createElement('div');\n        this.overlay.className = 'modal-overlay ' + this.options.className;\n        docFrag.appendChild(this.overlay);\n    }\n\n    // Create content area and append to modal\n    contentHolder = document.createElement('div');\n    contentHolder.className = 'modal__content';\n    contentHolder.innerHTML = content;\n    this.modal.appendChild(contentHolder);\n\n    // Append modal to DocumentFragment\n    docFrag.appendChild(this.modal);\n\n    // Append DocumentFragment to body\n    document.body.appendChild(docFrag);\n};\n\nModalService.prototype.initializeEvents = function () {\n    var that = this,\n        closeTriggers;\n\n    if (this.closeButton) {\n        this.closeButton.addEventListener('click', this.close.bind(this));\n    }\n\n    if (this.overlay) {\n        this.overlay.addEventListener('click', this.close.bind(this));\n    }\n\n    // If closeButton option is custom and a close trigger class is provided\n    if (this.optionscloseTriggerClass !== null) {\n        // find elements with the class\n        closeTriggers = document.querySelectorAll('.'+ this.options.closeTriggerClass);\n\n        // bind event to elements\n        closeTriggers.forEach(function(trigger) {\n            trigger.addEventListener('click', that.close.bind(that));\n        });\n    }\n};\n\nModalService.prototype.transitionSelect = function () {\n    var el = document.createElement('div');\n\n    if (el.style.WebkitTransition) {\n        return 'webkitTransitionEnd';\n    }\n\n    if (el.style.OTransition) {\n        return 'oTransitionEnd';\n    }\n\n    return 'transitionend';\n};\n\nmodule.exports = ModalService;\n",
    "'use strict';\n\nvar StarService = require('./StarService'),\n    Utils = require('./Utils');\n\nfunction ScoreService() {\n    this.starService = new StarService();\n    this.utils = new Utils();\n    this.storage = localStorage;\n    this.clicks = 0;\n}\n\nfunction isLocalStorageSupported() {\n    var testKey = 'test', \n        storage = localStorage;\n\n    try {\n        storage.setItem(testKey, '1');\n        storage.removeItem(testKey);\n        return true;\n    } catch (error) {\n        // could expand this to use a global var to save scores if local stroage is not availible (v2)\n        return false;\n    }\n}\n\nScoreService.prototype.init = function() {\n\n    // check for local storage and display message if not available - browser not supported or no private mode!\n    if (isLocalStorageSupported()) {\n    \n        // Check if scores exist first and then set them if not\n        if (this.storage.getItem('beginner') === null) {\n            this.storage.setItem('beginner', 0);\n        }\n\n        if (this.storage.getItem('easy') === null) {\n            this.storage.setItem('easy', 0);\n        }\n\n        if (this.storage.getItem('medium') === null) {\n            this.storage.setItem('medium', 0);\n        }\n\n        if (this.storage.getItem('hard') === null) {\n            this.storage.setItem('hard', 0);\n        }\n\n        if (this.storage.getItem('monsterous') === null) {\n            this.storage.setItem('monsterous', 0);\n        }\n\n    } else {\n        \n        alert('Either your browser does not support local storage or you are browsing in private mode so you won\\'t be able to save scores');\n\n    }\n};\n\nScoreService.prototype.calculateTimeScore = function(level, seconds) {\n    if (this.storage.getItem(level) === '0') {\n        this.storage.setItem(level, seconds);\n    } else if (seconds < this.storage.getItem(level)) {\n        this.storage.setItem(level, seconds);\n    }\n};\n\nScoreService.prototype.getStars = function(level, seconds) {\n    var stars = this.starService.getStars(level, seconds);\n\n    return stars;\n};\n\nScoreService.prototype.getSavedFormattedTime = function(level) {\n    var savedSeconds = this.storage.getItem(level),\n        formattedTime = this.utils.formatSecsToMinsAndSecs(savedSeconds);\n\n    return formattedTime;\n};\n\nScoreService.prototype.getSavedUnformattedTime = function(level) {\n    var savedSeconds = this.storage.getItem(level);\n\n    return savedSeconds;\n};\n\nmodule.exports = ScoreService;\n",
    "'use strict';\n\nfunction SoundService() {\n    this.src = './sounds/sprite.mp3';\n    this.audioSprite = new Audio(this.src);\n    this.audioSprite.autobuffer = true;\n    this.audioSprite.load();\n    this.currentSprite = {};\n}\n\nfunction onTimeUpdate (service) {\n    if (service.audioSprite.currentTime >= service.currentSprite.start + service.currentSprite.length) {\n        service.audioSprite.pause();\n    }\n}\n\nSoundService.prototype.spriteData = {\n    click: {\n        start: 0,\n        length: 0.4460090702947846,\n    },\n    flip: {\n        start: 2,\n        length: 0.59734693877551\n    },\n    match: {\n        start: 4,\n        length: 0.6249886621315195\n    },\n    noMatch: {\n        start: 6,\n        length: 0.544353741496598\n    },\n    tada: {\n        start: 8,\n        length: 0.902925170068027\n    }\n};\n\nSoundService.prototype.init = function () {\n    var service = this;\n\n    service.audioSprite.addEventListener('timeupdate', function () {\n        onTimeUpdate(service);\n    }, false);\n};\n\nSoundService.prototype.play = function (id) {\n    var service = this;\n\n    if (!id) {\n        return;\n    }\n\n    if (service.spriteData[id] && service.spriteData[id].length) {\n        service.currentSprite = service.spriteData[id];\n        service.audioSprite.currentTime = service.currentSprite.start;\n        service.audioSprite.play();\n    }\n};\n\nmodule.exports = SoundService;\n",
    "'use strict';\n\nfunction StarService() {\n    // Stars vs seconds\n    this.starDataMap = {\n        'beginner': {\n            stars3: 10,\n            stars2: 15,\n            stars1: 20\n        },\n        'easy': {\n            stars3: 20,\n            stars2: 25,\n            stars1: 30\n        },\n        'medium': {\n            stars3: 30,\n            stars2: 35,\n            stars1: 40\n        },\n        'hard': {\n            stars3: 40,\n            stars2: 45,\n            stars1: 50\n        },\n        'monsterous': {\n            stars3: 50,\n            stars2: 55,\n            stars1: 60\n        }\n    };\n}\n\n// Calculate the number of stars earned and return earned stars\nStarService.prototype.getStars = function(level, seconds) {\n    var levelDataMap = this.starDataMap[level],\n        numberOfStars,\n        starMarkUp = '';\n\n    for (var key in levelDataMap) {\n        if (seconds <= levelDataMap[key]) {\n            numberOfStars = parseInt(key.replace('stars', ''));\n            break;\n        } else {\n            numberOfStars = 0;\n        }\n    }\n\n    starMarkUp = this.generateStarMarkUp(numberOfStars);\n    \n    return starMarkUp;\n};\n\nStarService.prototype.generateStarMarkUp = function(stars) {\n    var starMarkUp;\n\n    if (stars === 1) {\n        starMarkUp = '<i class=\"fa fa-star animated zoom-in\"></i><i class=\"fa fa-star-o animated zoom-in\"></i><i class=\"fa fa-star-o animated zoom-in\"></i>';\n    } else if (stars === 2) {\n        starMarkUp = '<i class=\"fa fa-star animated zoom-in\"></i><i class=\"fa fa-star animated zoom-in\"></i><i class=\"fa fa-star-o animated zoom-in\"></i>';\n    } else if (stars === 3) {\n        starMarkUp = '<i class=\"fa fa-star animated zoom-in\"></i><i class=\"fa fa-star animated zoom-in\"></i><i class=\"fa fa-star animated zoom-in\"></i>';\n    } else {\n        starMarkUp = '<i class=\"fa fa-star-o animated zoom-in\"></i><i class=\"fa fa-star-o animated zoom-in\"></i><i class=\"fa fa-star-o animated zoom-in\"></i>';\n    }\n\n    return starMarkUp;\n};\n\nmodule.exports = StarService;\n",
    "'use strict';\n\nvar Utils = require('./Utils');\n\nfunction TileService(body, scoreService, soundService, timerService) {\n    this.utils = new Utils();\n    this.scoreService = scoreService;\n    this.soundService = soundService;\n    this.timerService = timerService;\n    this.body = body;\n}\n\nTileService.prototype.tiles = [\n    {\n        bg: 'img/tile-bgs/yellow-stripes.png',\n        id: 1,\n        img: 'img/monsters/green-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/blue-square-stripes.png',\n        id: 2,\n        img: 'img/monsters/grey-horns-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/purple-squares.png',\n        id: 3,\n        img: 'img/monsters/grey-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/blue-squares.png',\n        id: 4,\n        img: 'img/monsters/orange-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/light-green-rainbows.png',\n        id: 5,\n        img: 'img/monsters/purple-horns-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/green-rainbows.png',\n        id: 6,\n        img: 'img/monsters/purple-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/blue-stripes.png',\n        id: 7,\n        img: 'img/monsters/yellow-eyes-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/grey-squares.png',\n        id: 8,\n        img: 'img/monsters/yellow-monster.png'\n    },\n    {\n        bg: 'img/tile-bgs/yellow-squares.png',\n        id: 9,\n        img: 'img/monsters/orange-horns-monster.png',\n    },\n    {\n        bg: 'img/tile-bgs/yellow-rainbows.png',\n        id: 10,\n        img: 'img/monsters/orange-eyes-monster.png',\n    },\n];\n\n// Fisher--Yates Algorithm\nfunction shuffle (array) {\n    var counter = array.length, temp, index;\n\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        index = Math.floor(Math.random() * counter);\n\n        // Decrease counter by 1\n        counter--;\n\n        // And swap the last element with it\n        temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n}\n\nfunction shuffleTiles (tileArray) {\n    return shuffle(tileArray);\n}\n\nfunction tileMarkupBuilder (tileArray) {\n    var markup = '';\n\n    for (var i = 0; i < tileArray.length; i++) {\n        markup += '<div class=\"tile\" data-tile-id=\"' + tileArray[i].id + '\"><div class=\"tile__front\"></div><div class=\"tile__back\" style=\"background-image: url('+tileArray[i].img+'), url('+tileArray[i].bg+'); background-repeat: no-repeat, repeat; background-position: center center; background-size: 70%;\"></div></div>';\n    }\n\n    return markup;\n}\n\nfunction resetFlippedTiles (service) {\n    var tiles = service.body.querySelectorAll('.tile--flipped:not(.tile--matched)');\n\n    for (var i = 0; i < tiles.length; i++) {\n        tiles[i].classList.remove('tile--flipped');\n    }\n}\n\nfunction tilesMatch (flippedTiles) {\n    if (flippedTiles.length === 2) {\n        if (flippedTiles[0].getAttribute('data-tile-id') === flippedTiles[1].getAttribute('data-tile-id')) {\n            return true;\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}\n\nfunction allTilesMatch (service) {\n    var allTiles = service.body.querySelectorAll('.tile'),\n        matchedTiles = service.body.querySelectorAll('.tile--matched'),\n        level = service.body.dataset.levelTitle,\n        allTilesMatchEvent,\n        starsMarkup,\n        seconds,\n        bestTime,\n        currentTime;\n\n    if (allTiles.length === matchedTiles.length) {\n        // Stop timer and get seconds\n        service.timerService.stop();\n        seconds = service.timerService.getTime();\n\n        // Check and save time for level\n        service.scoreService.calculateTimeScore(level, seconds);\n\n        // Get stars and times then broadcast custom event with data\n        starsMarkup = service.scoreService.getStars(level, seconds);\n        bestTime = service.scoreService.getSavedFormattedTime(level);\n        currentTime = service.utils.formatSecsToMinsAndSecs(seconds);\n\n        allTilesMatchEvent = new CustomEvent('allTilesMatch', {'detail': {'stars': starsMarkup, 'bestTime': bestTime, 'currentTime': currentTime} }); // ie support needs looking at http://caniuse.com/#feat=customevent\n\n        // Trigger modal, but delay for half a sec to ensure flip animation finished, could use transition end here...\n        setTimeout(function() {\n            service.soundService.play('tada');\n\n            // Broadcast event that all tiles match and deal with it in level service\n            document.dispatchEvent(allTilesMatchEvent);\n        }, 500);\n    }\n}\n\nfunction tileClickListener(e, tile, service) {\n    var flippedTiles;\n    e.preventDefault();\n\n    // PLay flip sound\n    service.soundService.play('flip');\n\n    // Flip tile\n    tile.classList.add('tile--flipped');\n\n    // Get unmatched flipped tiles\n    flippedTiles = service.body.querySelectorAll('.tile--flipped:not(.tile--matched)');\n\n    if (flippedTiles.length === 2) {\n\n        // Check if tiles match\n        if (tilesMatch(flippedTiles)) {\n            // Add matched class and disabled click event on matched - could use transition end here\n            setTimeout(function() {\n                flippedTiles.forEach(function(tile) {\n                    tile.classList.add('tile--matched');\n                    tile.removeEventListener('click', tileClickListener);\n                    allTilesMatch(service);\n                    service.soundService.play('match');\n                });\n            }, 1000);\n        } else {\n            setTimeout(function() {\n                resetFlippedTiles(service);\n                service.soundService.play('noMatch');\n            }, 1000);\n        }\n    }\n}\n\nfunction addTileClickListener(tile, service) {\n    tile.addEventListener('click', function (e) {\n        tileClickListener(e, tile, service);\n    });\n}\n\nTileService.prototype.generateTiles = function (numberOfTiles, location) {\n    // Get the tiles and shuffle\n    var service = this,\n        tiles = shuffleTiles(this.tiles),\n        appendedTiles,\n        duplcatedTiles,\n        markUpToAppend,\n        tilesCopy;\n\n    // Grab the required number of tiles from the array\n    tiles = tiles.slice(0, numberOfTiles);\n\n    // Duplicate the tiles in the array\n    tilesCopy = tiles;\n    duplcatedTiles = tiles.concat(tilesCopy);\n\n    // Re-shuffle tiles with duplicates\n    duplcatedTiles = shuffleTiles(duplcatedTiles);\n\n    // Remove any previously level classes\n    location.classList.remove('tile-page-beginner', 'tile-page-easy', 'tile-page-medium', 'tile-page-hard', 'tile-page-monsterous');\n\n    if (duplcatedTiles.length === 4) {\n        location.classList.add('tile-page-beginner');\n    } else if (duplcatedTiles.length === 6) {\n        location.classList.add('tile-page-easy');\n    } else if (duplcatedTiles.length === 12) {\n        location.classList.add('tile-page-medium');\n    } else if (duplcatedTiles.length === 16) {\n        location.classList.add('tile-page-hard');\n    } else if (duplcatedTiles.length === 20) {\n        location.classList.add('tile-page-monsterous');\n    }\n\n    // Build the tile markup\n    markUpToAppend = tileMarkupBuilder(duplcatedTiles);\n\n    // Append markup\n    location.innerHTML = markUpToAppend;\n\n    // Attached click handlers to the tiles to flip\n    appendedTiles = service.body.querySelectorAll('.tile');\n\n    for (var i = 0; i < appendedTiles.length; i++) {\n        addTileClickListener(appendedTiles[i], service);\n    }\n\n    // Show tiles\n    location.classList.remove('u-hide');\n\n    // Start the timer\n    service.timerService.start();\n};\n\nmodule.exports = TileService;\n",
    "'use strict';\n\nfunction TimerService(timerElementId) {\n    this.sec = 0;\n    this.timerElement = document.getElementById(timerElementId);\n}\n\nTimerService.prototype.start = function() {\n    var service = this,\n        hours,\n        minutes,\n        seconds,\n        time;\n\n    this.timerElement.innerHTML = '0:00';\n    this.timerElement.classList.remove('u-hide');\n\n    service.timer = setInterval(function() {\n        service.sec++;\n        hours = parseInt(service.sec / 3600) % 24;\n        minutes = parseInt(service.sec / 60) % 60;\n        seconds = service.sec % 60;\n\n        if (hours === 0) {\n            hours = '';\n        } else if (hours < 10) {\n            hours = '0' + hours + ':';\n        } else {\n            hours = hours + ':';\n        }\n\n        time = hours + minutes + ':' + (seconds  < 10 ? '0' + seconds : seconds);\n        service.timerElement.innerHTML = time;\n    }, 1000);\n};\n\nTimerService.prototype.stop = function() {\n    clearInterval(this.timer);\n};\n\nTimerService.prototype.reset = function() {\n    clearInterval(this.timer);\n    this.sec = 0.00;\n    this.timerElement.innerHTML = 0.00;\n    this.timerElement.classList.add('u-hide');\n};\n\nTimerService.prototype.getTime = function() {\n    return this.sec;\n};\n\nmodule.exports = TimerService;\n",
    "'use strict';\n\nfunction Utils() {\n}\n\nUtils.prototype.nextInArray = function (db, key) {\n    for (var i = 0; i < db.length; i++) {\n        if (db[i].name === key) {\n            return db[i + 1];\n        }\n    }\n\n    return false;\n};\n\nUtils.prototype.formatSecsToMinsAndSecs = function (seconds) {\n\tvar minutes = ('00' + Math.floor((seconds % 3600) / 60)).slice(-2),\n\t\tformattedSeconds = ('00' + (seconds % 3600) % 60).slice(-2);\n\t\n\treturn minutes + ':' + formattedSeconds;\n};\n\nmodule.exports = Utils;\n"
  ]
}